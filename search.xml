<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2F2019%2F08%2F26%2F%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E3%80%81%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[title: centos6、centos7开机启动流程date: 2017-12-02 21:01:24comments: truetoc: truecategories: linuxtags: centos centos6 centos7 按下电源 按下电源 开机自检BIOS 开机自检BIOS MBR引导 MBR引导 GRUB菜单 GRUB菜单 加载内核kernel 加载内核kernel 运行INIT进程 运行systemd进程 读取/etc/inintab 选择启动级别/etc/systemd/system/default.target 读取/etc/rc.sysinit初始化系统 初始化脚本 运行/etc/rc数字.d的脚本/服务 并行启动服务 启动mingetty显示登录界面 启动mingetty centos6、centos7开机启动流程开机启动流程、用户管理一、 让一个程序开机启动有什么方法：1./etc/rc.local 开机启动脚本或命令，放入即可。2.通过chkconfig命令管理 你要启动的脚本/服务。（远控卡）二、二用户分类1.UID user id 身份证号码2.GID geoup id 用户组ID3.root 皇帝ID UID：04.虚拟用户：傀儡用户UID 1-499 （centos7 1-999）​ 用户的命令解释器：/sbin/nologin ​ 每个用户、服务运行的时候都需要一个用户 ​ 傀儡用户不需要登录系统 5.普通用户 UID 500+ （centos7 1000+）三.用户相关配置文件1./etc/passwd 用户信息12root: x: 0: 0: root: /root: /bin/bash用户名 密码 UID GID 用户的说明 家目录 命令解释器 2./etc/shadow 用户密码信息3./etc/geoup用户组信息4./etc/gshadow 用户组密码信息四.用户相关的目录/etc/skel 新用户的老家的模板（新用户家目录的样子） 存放新建用户的目录（创建新用户后会把这个目录下的文件拷贝到新用户的家目录下） 登录到普通用户下突然发现-bash-4.2$解决办法： 五.用户管理的命令1.用户相关命令：1.1.useradd：useradd 添加用户​ -u 指定UID​ -s 指定登录shell​ /bin/bash​ /bin/nologin​ -g 指定GID，用户组​ -M 不创建家目录 1.2.userdel 删除用户 （不要删除 要注释就OK）​ -r 删除家目录​ userdel oldboy 只删除用户 不删除家目录​ userdel -r oldboy 同家目录一起删除 （注：工作中再passwd中注释#用户就可以了，不要删除。） 1.3.usermod 修改用户信息​ -s 修改shell ​ -g 属于的家庭，用户组 （主要组） ​ -G属于多个家庭 （附加组） 2.批量创建用户及密码2.1创建十个用户 密码均为123456sed awk 2.2非交互式创建密码echo **|passwd –stdin 用户 2.3 生成随机数（随机密码）2.31 echo $((RANDOM))​ 随机生成0-32767数字，有重复的可能。可加指纹。echo $((RANDOM)) |md5sum ​ 取余 echo $((RANDOM%10)) 只选0-9 2.32 /dev/urandom ​ 可加指纹 md5sum 2.33 date​ date +%N 纳秒 按照纳秒在变化。可加指纹date +%N|md5sum 2.34uuidgen 随机的uuid 可以tr替换 2.4创建十个用户并且配十个随机密码创建八位随机密码 赋值给pass 12pass=`date +%N|md5sun|cut -c1-8`pass=$(date +%N|md5sum|cut -c1-8) 两种方法皆可 创建stu{1..10}用户-给每个用户八位不同随机密码-用户密码存入pass.txt中。 sed 1echo stu&#123;1..10&#125;|xargs -n1|sed -r &apos;s#(.*)#useradd \1;pass=$(date +%N|md5sum|cut -c1-8);echo $pass \1 &gt;&gt;pass.txt;echo $pass|passwd --stdin \1#g&apos;|bash awk 1echo stu&#123;1..10&#125;|xargs -n1|awk &apos;&#123;print &quot;useradd &quot; $0 &quot; ; pass=$(date +%N|md5sum|cut -c1-8)&quot;&quot; ;&quot; &quot;echo $pass &quot;$1&quot; &gt;&gt;pass.txt&quot; &quot; ;&quot; &quot;echo $pass|passwd --stdin &quot;$1&quot;&quot; &apos;&#125;|bash ![img](file:///D:\Documents\Tencent Files\1468870854\Image\C2C\42NE(G@38HQXVTJ(Q7T)31I.png) 2.5批量删除用户（有序） 六.修改hhd端口(禁止root用户远程登录 ) 进入vim /etc/ssh/sshd_config 默认22端口 #port 22 底下加一行 port 端口 修改完成以后重新加载或者重启sshd 分析日志 查看/var/log/secure 安全日志 failure或Failed七.给文件加指纹1. md5sum 1.txt &gt; police.md5​ 给1.txt生成一个指纹 并且把指纹放入police.md5中 2. md5sum -c police.md5​ 查看指纹是否有变化 ​ 有变化就修改过了 chown 修改文件或者目录所有者和术语的用户组。 12格式：chown lizhenya.lizhenya /tmp/1.txt 属主 属组 文件 -R 递归 chown -R lizhenya * w的使用方法 sudosudo -l 查看当前用户是否有sudo visudo ===== vim /etc/sudoers lizhenya ALL=(ALL) /usr/bin/ls授权的命令 必须跟全路径 sudo -k 清空缓存密码NOPASSWD 不需要密码 lizhenya ALL=(ALL) NOPASSWD:ALL 八.文件权限1.权限体系1234567891011121.文件对应权限r===read 可读w===wirte 可写x===execute 可执行如何查看当前用户对某个文件或目录有什么权限ll /etc/hosts-rw-r--r-- 等信息2.权限的计算r===4w===2x===1-===0 2.修改文件权限 chmod12345678910111213141516171819属主 属组 其他用户user group othersu g o方法一:例:属主去掉写入权限使用chmod u-w 1.sh例:属主同时给rwx权限 = 先清除在赋值权限chmod u=rwx 1.sh例:属主 属组 其他用户同时增加x执行权限chmod ugo+x 1.sh例:同时删除x执行权限 a=ugo (a=all)chmod a-x 1.sh例:使用a对所有用户增加x执行权限chmod a+x 1.sh方法二:使用数字进行权限修改(常用)例: 文件修改为644权限 rw-r--r—chmod 644 1.sh例：文件修改为755权限 rwx-r-xr-xchmod 755 1.sh 3.文件权限总结1231. r 显示文件内容2. w 是否能修改文件的内容 需要有r权限配合 只有w的时候 保存退出会导致文件内容清空3. x是否有执行权限 需要有r可读权限配置 4.目录权限总结12345671. r是否能查看目录的内容ls2. w是否能在目录中创建 删除 重命名 文件权限3. x 是否有进入目录的权限 cd4. 注意(目录权限):1. r 是否能查看目录内容ls 需要x权限配合2. w 是否能在目录中创建删除 重命名 文件权限 需要x权限配合3. .x 是否能进入到目录权限 cd 是否能修改或查看目录中文件属性 Linux文件和目录权限总结 权限拒绝排查流程]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F12%2F02%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <categories>
        <category>readme</category>
      </categories>
      <tags>
        <tag>readme</tag>
      </tags>
  </entry>
</search>
